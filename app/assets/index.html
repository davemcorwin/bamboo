<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Bamboo</title>
    <link rel="stylesheet" href="css/app.css">
  </head>

  <body>

    <!-- Require Elm Code & Regular JS -->
    <script src="js/main.js"></script>
    <script src="js/app.js"></script>

    <!-- Start Elm app in fullscreen mode -->
    <script>
      var app = Elm.Main.fullscreen();
      var isEditing = false;

      // app.ports.editing.subscribe(function(editing) {
      //   isEditing = editing;
      // });

      var keys = [
        'ArrowDown',
        'ArrowLeft',
        'ArrowRight',
        'ArrowUp',
        'Tab',
        'Enter',
        'Escape'
      ];

      window.onkeydown = function(e){
        if (keys.includes(e.key)) {
          if ( (isEditing && !['ArrowLeft', 'ArrowRight'].includes(e.key)) || !isEditing)
            e.preventDefault();
            app.ports.keys.send([e.key, e.shiftKey]);
        }
      };
    </script>
  </body>
</html>
